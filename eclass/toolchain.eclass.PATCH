--- /usr/portage/eclass/toolchain.eclass	2015-12-31 05:31:02.000000000 +0000
+++ toolchain.eclass	2016-01-04 21:07:54.368539880 +0000
@@ -1,4 +1,4 @@
-# Copyright 1999-2015 Gentoo Foundation
+# Copyright 1999-2016 Gentoo Foundation
 # Distributed under the terms of the GNU General Public License v2
 # $Id$
 
@@ -154,6 +154,10 @@
 	tc_version_is_at_least 4.9 && IUSE+=" cilk"
 	tc_version_is_at_least 5.0 && IUSE+=" jit"
 	tc_version_is_at_least 6.0 && IUSE+=" pie +ssp"
+
+	# Chemoelectric overlay supports Ada.
+	IUSE_DEF+=( ada gnat-bootstrap )
+
 fi
 
 IUSE+=" ${IUSE_DEF[*]/#/+}"
@@ -168,6 +172,15 @@
 	SLOT="${GCCMAJOR}"
 fi
 
+if use gnat-bootstrap ; then
+	if tc_version_is_between 4.7 5.4 ; then
+		GNAT_BOOTSTRAP_BIN=/opt/gnat-bootstrap-4.7/bin
+	else
+		die "There is no gnat-bootstrap support for this version of gcc."
+	fi
+	export PATH="${GNAT_BOOTSTRAP_BIN}:${PATH}"
+fi
+
 #---->> DEPEND <<----
 
 RDEPEND="sys-libs/zlib
@@ -223,6 +236,12 @@
 	DEPEND+=" gcj? ( awt? ( ${GCJ_GTK_DEPS} ) ${GCJ_DEPS} )"
 fi
 
+if in_iuse gnat-bootstrap ; then
+	if tc_version_is_between 4.7 5.4 ; then
+		DEPEND+=" gnat-bootstrap? ( sys-devel/gnat-bootstrap:4.7 )"
+	fi
+fi
+
 PDEPEND=">=sys-devel/gcc-config-1.7"
 
 #---->> S + SRC_URI essentials <<----
@@ -835,6 +854,13 @@
 		confgcc+=( --with-python-dir=${DATAPATH/$PREFIX/}/python )
 	fi
 
+	if use gnat-bootstrap ;	then
+		confgcc+=( CC="${GNAT_BOOTSTRAP_BIN}/gcc"
+				   CXX="${GNAT_BOOTSTRAP_BIN}/g++"
+				   GNATBIND="${GNAT_BOOTSTRAP_BIN}/gnatbind"
+				   GNATMAKE="${GNAT_BOOTSTRAP_BIN}/gnatmake" )
+	fi
+
 	### language options
 
 	local GCC_LANG="c"
@@ -861,6 +887,9 @@
 	# We do NOT want 'ADA support' in here!
 	# is_ada && GCC_LANG+=",ada"
 
+	# Oh, yes, we do!
+	is_ada && GCC_LANG+=",ada"
+
 	confgcc+=( --enable-languages=${GCC_LANG} )
 
 	### general options
@@ -1770,6 +1799,23 @@
 		pax-mark -r "${D}${PREFIX}/libexec/gcc/${CTARGET}/${GCC_CONFIG_VER}/cc1"
 		pax-mark -r "${D}${PREFIX}/libexec/gcc/${CTARGET}/${GCC_CONFIG_VER}/cc1plus"
 	fi
+
+	# Work around gcc-config's ignorance of gnat tools by providing
+	# copies of them under names gcc-config can handle.
+	is_ada && {
+		for gnattool in	gnat gnatbind gnatchop gnatclean gnatfind \
+			gnatkr gnatlink gnatls gnatmake gnatname gnatprep gnatxref
+		do
+			local toollink
+			if is_crosscompile
+			then
+				toollink="${D}${PREFIX}/${CHOST}/${CTARGET}/gcc-bin/${GCC_CONFIG_VER}/${CTARGET}-${gnattool}"
+			else
+				toollink="${D}${PREFIX}/${CTARGET}/gcc-bin/${GCC_CONFIG_VER}/${CTARGET}-${gnattool}"
+			fi
+			[[ -e "${toollink}" ]] || ln -s "${gnattool}" "${toollink}"
+		done
+	}
 }
 
 # Move around the libs to the right location.  For some reason,
