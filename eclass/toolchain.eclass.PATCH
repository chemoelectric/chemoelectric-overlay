--- toolchain.eclass.ORIG	2014-08-02 04:43:21.211859101 +0000
+++ toolchain.eclass	2014-08-04 06:08:23.335312129 +0000
@@ -121,6 +121,8 @@
 if [[ ${PN} != "kgcc64" && ${PN} != gcc-* ]] ; then
 	IUSE+=" altivec"
 	IUSE_DEF+=" cxx fortran"
+	IUSE+=" ada"
+	IUSE+=" gnat-bootstrap"
 	[[ -n ${PIE_VER} ]] && IUSE+=" nopie"
 	[[ -n ${HTB_VER} ]] && IUSE+=" boundschecking"
 	[[ -n ${D_VER}   ]] && IUSE+=" d"
@@ -145,6 +147,15 @@
 	SLOT="${GCC_BRANCH_VER}"
 fi
 
+if use gnat-bootstrap ; then
+	if tc_version_is_between 4.7 4.9 ; then
+		GNAT_BOOTSTRAP_BIN=/opt/gnat-bootstrap-4.7/bin
+	else
+		die "There is no gnat-bootstrap support for this version of gcc."
+	fi
+	export PATH="${GNAT_BOOTSTRAP_BIN}:${PATH}"
+fi
+
 #---->> DEPEND <<----
 
 RDEPEND="sys-libs/zlib
@@ -208,6 +219,12 @@
 	DEPEND+=" gcj? ( awt? ( ${GCJ_GTK_DEPS} ) ${GCJ_DEPS} )"
 fi
 
+if in_iuse gnat-bootstrap ; then
+	if tc_version_is_between 4.7 4.9 ; then
+		DEPEND+=" gnat-bootstrap? ( sys-devel/gnat-bootstrap:4.7 )"
+	fi
+fi
+
 PDEPEND=">=sys-devel/gcc-config-1.7"
 
 #---->> S + SRC_URI essentials <<----
@@ -846,6 +863,9 @@
 	# We do NOT want 'ADA support' in here!
 	# is_ada && GCC_LANG+=",ada"
 
+	# Oh, yes, we do!
+	is_ada && GCC_LANG+=",ada"
+
 	confgcc+=( --enable-languages=${GCC_LANG} )
 
 	### general options
@@ -1180,6 +1200,11 @@
 
 	confgcc+=( "$@" ${EXTRA_ECONF} )
 
+	if use gnat-bootstrap
+	then
+		confgcc+=( CC="${GNAT_BOOTSTRAP_BIN}/gcc" CXX="${GNAT_BOOTSTRAP_BIN}/g++" )
+	fi
+
 	# Nothing wrong with a good dose of verbosity
 	echo
 	einfo "PREFIX:          ${PREFIX}"
@@ -1717,6 +1742,23 @@
 		pax-mark -r "${D}${PREFIX}/libexec/gcc/${CTARGET}/${GCC_CONFIG_VER}/cc1"
 		pax-mark -r "${D}${PREFIX}/libexec/gcc/${CTARGET}/${GCC_CONFIG_VER}/cc1plus"
 	fi
+
+	# Work around gcc-config's ignorance of gnat tools by providing
+	# copies of them under names gcc-config can handle.
+	is_ada && {
+		for gnattool in	gnat gnatbind gnatchop gnatclean gnatfind \
+			gnatkr gnatlink gnatls gnatmake gnatname gnatprep gnatxref
+		do
+			local toollink
+			if is_crosscompile
+			then
+				toollink="${D}${PREFIX}/${CHOST}/${CTARGET}/gcc-bin/${GCC_CONFIG_VER}/${CTARGET}-${gnattool}"
+			else
+				toollink="${D}${PREFIX}/${CTARGET}/gcc-bin/${GCC_CONFIG_VER}/${CTARGET}-${gnattool}"
+			fi
+			[[ -e "${toollink}" ]] || ln -s "${gnattool}" "${toollink}"
+		done
+	}
 }
 
 # Move around the libs to the right location.  For some reason,
