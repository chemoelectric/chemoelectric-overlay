--- lacaml-release-5.5.2.ORIG/OCamlMakefile	2011-08-09 04:01:50.000000000 +0000
+++ lacaml-release-5.5.2/OCamlMakefile	2011-10-02 04:12:22.075250877 +0000
@@ -62,6 +62,7 @@
 
 export LIBS
 export CLIBS
+export CLIBS2
 export CFRAMEWORKS
 
 export OCAMLFLAGS
@@ -597,7 +598,7 @@
 		    $(OCAML_DEFAULT_DIRS:%=-LIBPATH:%) "
 endif
 
-CLIBS_OPTS := $(CLIBS:%=-cclib -l%) $(CFRAMEWORKS:%=-cclib '-framework %')
+CLIBS_OPTS := $(CLIBS:%=-cclib -l%) $(CLIBS2:%=-cclib %) $(CFRAMEWORKS:%=-cclib '-framework %')
 ifdef MSVC
   ifndef STATIC
   # MSVC libraries do not have 'lib' prefix
--- lacaml-release-5.5.2.ORIG/lib/Makefile	2011-08-09 04:01:50.000000000 +0000
+++ lacaml-release-5.5.2/lib/Makefile	2011-10-02 05:51:38.794846778 +0000
@@ -79,7 +79,9 @@
 LIB_PACK_NAME := lacaml
 #CFLAGS	:= -fPIC -DPIC -Wall -Werror -Wno-unused -Wno-long-long
 CFLAGS := -O2 -fPIC -DPIC
-CLIBS := $(LAPACK) $(BLAS)
+CLIBS :=
+CLIBS2 := $(shell pkg-config --libs lapack)
+OCAMLMKLIB_FLAGS := $(shell pkg-config --libs lapack)
 RESULT := lacaml
 
 DOC_FILES = $(LIB_PACK_NAME).mli
